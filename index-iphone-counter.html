<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <title>Kalkulaƒçka j√≠del ‚Äì iPhone</title>
  <style>
    :root { --bg:#0f172a; --text:#e5e7eb; --muted:#94a3b8; --ring:#334155; --box-bg:#1b2735; --box-border:#2563eb; }
    html, body { height:100%; }
    body { margin:0; font-family:-apple-system,BlinkMacSystemFont,Roboto,Arial; background:#0f172a; color:var(--text); display:flex; flex-direction:column; }
    .container { flex:1; padding:10px; }
    .grid { display:grid; gap:16px; grid-template-columns:repeat(2,1fr); }
    h3{ margin:10px 4px 6px; font-size:14px; color:var(--muted); text-transform:uppercase; letter-spacing:.06em; }
    button.item {
      position:relative;
      padding:14px; border-radius:14px; background:linear-gradient(180deg,#1e293b,#0f172a);
      border:1px solid var(--ring); color:var(--text);
      font-size:16px; font-weight:700; text-align:left;
      -webkit-tap-highlight-color: transparent; transition: transform .08s ease, box-shadow .12s ease, border-color .12s ease;
    }
    button.item:active{ transform:scale(.98); }
    .price{ margin-top:4px; font-size:13px; color:var(--muted); font-weight:600; }
    .footer{ position:sticky; bottom:0; background:#0b1220; padding:10px 12px; display:flex; justify-content:space-between; align-items:center; border-top:1px solid var(--ring); }
    .value{ font-size:18px; font-weight:800; }
    .btn{ padding:8px 12px; border-radius:12px; border:1px solid var(--ring); background:#1e293b; color:var(--text); font-weight:700; }
    /* bliknut√≠ po kliku */
    @keyframes flash { 0%{box-shadow:0 0 0 0 rgba(34,197,94,.0); border-color:var(--ring);} 30%{box-shadow:0 0 0 6px rgba(34,197,94,.25); border-color:#22c55e;} 100%{box-shadow:0 0 0 0 rgba(34,197,94,.0); border-color:var(--ring);} }
    .flash { animation: flash .28s ease; }
    /* ƒç√≠taƒç kus≈Ø */
    .badge {
      position:absolute; right:10px; top:10px; min-width:22px; height:22px; padding:0 6px;
      border-radius:999px; background:#22c55e; color:#0b1220; font-size:13px; font-weight:800;
      display:none; align-items:center; justify-content:center;
    }
    .badge.show { display:inline-flex; }
    /* boxy odli≈°en√© vzhledem */
    .box-item { background:linear-gradient(180deg,var(--box-bg),#0f172a); border-color:var(--box-border); }
  </style>
</head>
<body>
  <div class="container">
    <h3>Pol√©vky</h3><div id="soups" class="grid"></div>
    <h3>Hlavn√≠ j√≠dla</h3><div id="mains" class="grid"></div>
    <h3>Boxy</h3><div id="boxes" class="grid"></div>
  </div>
  <div class="footer">
    <div>Souƒçet: <span class="value" id="total">0 Kƒç</span></div>
    <button class="btn" id="clearBtn">Vymazat</button>
  </div>
<script>
const MENU = {
  soups: [
    { name: "Gul√°≈°ov√°", price: 50 },
    { name: "V√Ωvar", price: 30 }
  ],
  mains: [
    { name: "Vep≈ôov√Ω ≈ô√≠zek", price: 150 },
    { name: "Ku≈ôec√≠ ≈ô√≠zek", price: 150 },
    { name: "Sv√≠ƒçkov√°", price: 180 },
    { name: "≈†panƒõlsk√Ω pt√°ƒçek", price: 190 },
    { name: "Moravsk√Ω vrabec", price: 160 },
    { name: "Plnƒõn√Ω knedl√≠k", price: 150 },
    { name: "Brambor√°k", price: 50 },
    { name: "Buchtiƒçky", price: 90 }
  ],
  boxes: [
    { name: "üçú Box pol√©vka", price: 5, box:true },
    { name: "üçó Box j√≠dlo", price: 10, box:true }
  ]
};
const fmt = new Intl.NumberFormat('cs-CZ',{style:'currency',currency:'CZK',maximumFractionDigits:0});
let total=0;
const counts = {}; // per-item poƒçitadla

function updateTotal(){ document.getElementById('total').textContent = fmt.format(total); }

function buttonFor(item){
  const b=document.createElement('button');
  b.className='item'+(item.box?' box-item':'');
  const key=item.name;
  counts[key]=0;
  b.innerHTML=`<div>${item.name}</div><div class='price'>${fmt.format(item.price)}</div><span class="badge" id="badge-${key}">0</span>`;
  b.onclick=()=>{
    total+=item.price; updateTotal();
    counts[key]++; const bd=document.getElementById('badge-'+CSS.escape(key));
    if(bd){ bd.textContent=counts[key]; bd.classList.add('show'); }
    b.classList.remove('flash'); void b.offsetWidth; b.classList.add('flash');
    try{ if(navigator.vibrate) navigator.vibrate(8); }catch(e){}
  };
  return b;
}

function renderSection(id, arr){
  const el=document.getElementById(id); el.innerHTML='';
  arr.forEach(i=>el.appendChild(buttonFor(i)));
}

function render(){
  renderSection('soups', MENU.soups);
  renderSection('mains', MENU.mains);
  renderSection('boxes', MENU.boxes);
  updateTotal();
}

document.getElementById('clearBtn').onclick=()=>{
  total=0; updateTotal();
  // vynulovat ƒç√≠taƒçe a skr√Ωt badge
  Object.keys(counts).forEach(k=>{ counts[k]=0; const bd=document.getElementById('badge-'+CSS.escape(k)); if(bd){ bd.textContent='0'; bd.classList.remove('show'); }});
};

render();
</script>
</body>
</html>
